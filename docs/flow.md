# Flyt

- Sjekker om det ligger jobb i kø-mappen
    - Hvis ikke: avslutter roboten
- Henter jobb og data
- Dekrypterer content dersom det er kryptert (kun notat)
- Konverterer nytt format til gammelt format
- Setter opp data-objektet for videre flyt
- Lagrer jobb i notifications-mappen dersom jobben ikke er dokumentasjon av elevsamtale
- Setter opp dokumentet som skal genereres
- Gjør oppslag mot krr (brukes ikke i noe særlig grad ennå...)
- Gjør oppslag mot dsf
- Dersom oppslag mot dsf finner kode 4, 6 eller 7 på personen fjernes adresse og foreldre fra dsf data
- Setter opp dokument for eventuell distribusjon
- Gjør oppslag mot sak/arkiv
- Setter opp nødvendige dokumentmaler
- Genererer dokumenter
- Lagrer jobb i distribusjonsmappen
- Lagrer jobb i arkiveringsmappen
- Lagrer jobb i done-mappen hvis ingen feil har oppstått
- Lagrer jobb i feilmappen dersom feil har oppstått
- Sletter genererte dokumenter dersom feil har skjedd
- Sletter jobb fra kø-mappen
